---
const showHomeLink = Astro.props?.showHome ?? true;
---

<header class="bg-[#305048] text-white sticky top-0 z-50 shadow-md">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <a href="/" class="text-2xl font-bold tracking-wide">
            PALMA <span class="text-[#FF8057]">CLEANING</span>
        </a>
        <nav class="hidden lg:flex items-center space-x-8 text-sm">
            {showHomeLink && <a href="/" class="hover:text-[#FF8057] transition duration-300">Home</a>}
            <a href="/services" class="hover:text-[#FF8057] transition duration-300">Services</a>
            <a href="/about" class="hover:text-[#FF8057] transition duration-300">About</a>
            <a href="/service-areas" class="hover:text-[#FF8057] transition duration-300">Locations</a>
            <a href="/blog" class="hover:text-[#FF8057] transition duration-300">Blog</a>
            <a href="/contact" class="hover:text-[#FF8057] transition duration-300">Contact</a>
        </nav>
        <div class="flex items-center space-x-6">
            <a href="tel:3527644747" class="text-xs font-semibold hidden md:block tracking-wide">(352) 764-4747</a>
            <a href="/book-now" class="bg-[#FF8057] text-[#305048] font-bold py-3 px-6 rounded-md hover:bg-[#ff996f] transition duration-300 text-sm uppercase">Book Now</a>
            <button id="mobile-menu-button" class="lg:hidden text-2xl" aria-label="Toggle navigation">
                <i class="fa-solid fa-bars"></i>
            </button>
    </div>
    </div>
    <div id="mobile-menu" class="lg:hidden hidden border-t border-white/10 bg-[#305048]/95">
        <nav class="px-6 py-4 space-y-3 text-sm">
            {showHomeLink && <a href="/" class="block text-white/90 hover:text-[#FF8057] transition">Home</a>}
            <a href="/services" class="block text-white/90 hover:text-[#FF8057] transition">Services</a>
            <a href="/about" class="block text-white/90 hover:text-[#FF8057] transition">About</a>
            <a href="/service-areas" class="block text-white/90 hover:text-[#FF8057] transition">Locations</a>
            <a href="/blog" class="block text-white/90 hover:text-[#FF8057] transition">Blog</a>
            <a href="/contact" class="block text-white/90 hover:text-[#FF8057] transition">Contact</a>
            <a href="/book-now" class="block text-[#FF8057] font-semibold">Book Now</a>
        </nav>
    </div>
</header>

<script is:inline>
    (function() {
        const ensureLink = (href) => {
            if (!document.querySelector(`link[href="${href}"]`)) {
                const link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = href;
                document.head.appendChild(link);
            }
        };
        ensureLink('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
        ensureLink('/home-tailwind.css');

        if (!window.FontAwesomeConfig) {
            window.FontAwesomeConfig = { autoReplaceSvg: 'nest' };
        }
        if (!document.querySelector('script[data-fa-loaded="true"]')) {
            const faScript = document.createElement('script');
            faScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js';
            faScript.crossOrigin = 'anonymous';
            faScript.referrerPolicy = 'no-referrer';
            faScript.dataset.faLoaded = 'true';
            document.head.appendChild(faScript);
        }

        const styleId = 'palma-global-style';
        if (!document.getElementById(styleId)) {
            const style = document.createElement('style');
            style.id = styleId;
            style.textContent = '.font-poppins{font-family:"Poppins",sans-serif;}::-webkit-scrollbar{display:none;}';
            document.head.appendChild(style);
        }

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }
    })();
</script>